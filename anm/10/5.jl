f(x) = 1/(1+x^2)

Q2(y,h) = 1/3*h*(y[1] + 4y[2] + y[3])
Q4(y,h) = 2/45*h*(7y[1] + 32y[2] + 12y[3] + 32y[4] + 7y[5])
Q6(y,h) = 1/140*h*(41y[1] + 216y[2] + 27y[3] + 272y[4] + 27y[5] + 216y[6]
                   + 41y[7])
Q8(y,h) = 4/14175*h*(989y[1] + 5888y[2] - 928y[3] + 10496y[4] - 4540y[5]
                     + 10496y[6] - 928y[7] + 5888y[8] + 989y[9])
Q10(y,h)= 5/299376*h*(16067(y[1]+y[11]) + 106300(y[2]+y[10]) - 48525(y[3]+y[9])
                      + 272400(y[4]+y[8]) - 260550(y[5]+y[7]) + 427368y[6])

y(n) = map(f, range(-4, 4, length=n+1))
points(n) = let r = range(-4, 4, length=n+1); zip(r, map(f,r)) end
h(n) = 8/n
results = [
    Q2(y(2), h(2)),
    Q4(y(4), h(4)),
    Q6(y(6), h(6)),
    Q8(y(8), h(8)),
    Q10(y(10), h(10))
]
exact = 2atan(4)

# vim: et
